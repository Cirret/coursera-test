<div class="container">

  <!-- Form code modified from lecture 42 -->
  <div ng-controller="RegistrationController as reg">
    <h1>Please Enter Your Registration Details</h1>
    <hr>

    <fieldset>
      <form name='regForm' novalidate class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-2 control-label" for="first_name">First name: </label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
            name="first_name" placeholder="First Name"
              ng-model="reg.user.first_name"
              required>
              <!-- {{ reg.user.first_name }} -->
              <span
                ng-if="(regForm.first_name.$error.required) && regForm.first_name.$touched">
                You must give your first name
              </span>
            </div>
          </div>

          <div class="form-group">
            <label class="col-sm-2 control-label" for="last_name">Last name: </label>
            <div class="col-sm-10">
              <input type="text" class="form-control"
              name="last_name" placeholder="Your last name, surname or family name"
                ng-model="reg.user.last_name"
                required>
                <!-- {{ reg.user.last_name }} -->
                <span
                  ng-if="(regForm.last_name.$error.required) && regForm.last_name.$touched">
                  You must give your last name
                </span>
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label" for="email">Email address: </label>
              <div class="col-sm-10">
                <input type="email" class="col-sm-8 form-control"
                name="email" placeholder="Email"
                  ng-model="reg.user.email"
                  required>
                <span ng-if="regForm.email.$invalid && regForm.email.$touched">
                  Must be a valid email address: handle@domain format
                </span>
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label" for="phone">Phone: </label>
              <!-- NOTE: validation is (I guess) for a US phone number. Which is fine for a US restaurant. -->
              <div class="col-sm-10">
                <input type="text" class="form-control"
                name="phone" placeholder="Phone ###-###-####"
                  ng-model="reg.user.phone"
                  pattern="(\d{3})-(\d{3})-(\d{4})">
                <span ng-if="regForm.phone.$invalid && regForm.phone.$touched">
                  Phone must be in the format ###-###-####.
                </span>
              </div>
            </div>

            <div class="form-group">
              <label class="col-sm-2 control-label" for="fave">Favorite menu item: </label>
              <div class="col-sm-10">
                <input type="text" class="form-control"
                name="fave" placeholder="Favorite menu item"
                  ng-model="reg.user.fave">
                  <span ng-if="regForm.fave.$invalid && regForm.fave.$touched">
                    You have to tell us your favorite menu item!
                  </span>
                  <span ng-if="! reg.fave_valid">
                    No such menu number exists
                  </span>
              </div>
            </div>

            <div class="form-group">
              <div class="col-sm-2">
              </div>
              <div class="col-sm-10">
                <button
                  class="btn btn-default"
                  ng-disabled="regForm.$invalid"
                  ng-click="reg.submit()">Submit</button>
<!--
                <div style="margin-top: 10px;">
                  Form valid? {{ regForm.$valid }}
                </div> -->
            </div>
      </form>
    </fieldset>

    <div id="info" ng-if="reg.completed">
      <span class="text-success">Your information has been saved</span>
      <!-- First name: {{ reg.user.first_name}} <br>
      Last name: {{ reg.user.last_name}} <br>
      Email: {{ reg.user.email}} <br>
      Phone: {{ reg.user.phone }}
      Fave: {{ reg.user.fave }} -->
    </div>

  </div>
</div>
